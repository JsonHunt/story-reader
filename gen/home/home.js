// Generated by CoffeeScript 1.9.0
(function() {
  var service, storage;

  service = require('./../story-service');

  storage = require('./../storage-service');

  module.exports = [
    '$scope', '$rootScope', function($scope, $rootScope) {
      $scope.allCaps = storage.loadInt('allCaps');
      $scope.stories = service.getStories();
      $scope.select = function(s) {
        return $scope.goto("story/" + s.id);
      };
      $scope.remove = function(s) {
        return service.removeStory(s);
      };
      $scope.newStory = function() {
        $rootScope.openInEditMode = true;
        return $scope.select(service.newStory(""));
      };
      return $scope.toggleCaps = function() {
        $scope.capOn = !$scope.capOn;
        return storage.saveInt('allCaps');
      };
    }
  ];

}).call(this);
